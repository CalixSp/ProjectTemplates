{
    "type": "Ext.app.Controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "models": [
            "Location"
        ],
        "stores": [
            "Locations"
        ],
        "designer|userClassName": "Maps"
    },
    "designerId": "18d4d1e9-030e-49f3-9c66-d5c8d2e8ff2d",
    "cn": [
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mapView",
                "selector": "mainview #map",
                "xtype": "Ext.Map"
            },
            "designerId": "01471434-5c16-4948-b7df-affd8c6e2d20"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onDropPinTap",
                "implHandler": [
                    "var mainView = this.getMainView();",
                    "",
                    "var inMapView = true;",
                    "",
                    "if (inMapView) {",
                    "",
                    "\tvar map = this.getMapView().getMap();",
                    "",
                    "\tvar position = map.getCenter();",
                    "",
                    "\tvar marker = new google.maps.Marker({",
                    "\t    position: position,",
                    "\t    map: map",
                    "\t});",
                    "",
                    "\tvar store = Ext.getStore('Locations');",
                    "\tstore.add({",
                    "\t    latitude: position.lat(),",
                    "\t    longitude: position.lng()",
                    "\t});",
                    "",
                    "} else {",
                    "",
                    "    debugger;",
                    "",
                    "}"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "mainview #dropPin"
            },
            "designerId": "ea3d7a3c-2862-4e38-87ba-f42acfc579f1"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mainView",
                "selector": "mainview",
                "xtype": "Ext.navigation.View"
            },
            "designerId": "52556649-13b2-49d6-93aa-91c841e70dc1"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onLocationTap",
                "implHandler": [
                    "var latitude = record.get('latitude');",
                    "var longitude = record.get('longitude');",
                    "",
                    "var map = this.getMapView();",
                    "var location = new google.maps.LatLng(latitude, longitude);",
                    "map.setMapOptions({",
                    "    center: location",
                    "});",
                    "",
                    "this.getMainView().pop();"
                ],
                "name": "disclose",
                "designer|targetType": "Ext.dataview.List",
                "designer|controlQuery": "mainview #listPanel list"
            },
            "designerId": "6b16e3ac-e415-4444-a270-fe0e11f5d9fe"
        },
        {
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mapPanel",
                "selector": "mainview #mapPanel",
                "xtype": "Ext.Panel"
            },
            "designerId": "f4e79960-f6b3-447c-9f7b-d75cf3b09cf2"
        },
        {
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onListPinsTap",
                "implHandler": [
                    "this.getMainView().push({",
                    "    xtype: 'listpanel',",
                    "    title: 'Pin list'",
                    "});"
                ],
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "mainview #listPins"
            },
            "designerId": "81d0542a-9789-4d79-bf2c-7eac73c619d6"
        }
    ]
}